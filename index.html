<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fence Installation Cost Calculator - AED</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #34495e;
            --success-color: #2ecc71;
            --uae-green: #008753;
            --uae-red: #ce1126;
            --uae-black: #000000;
            --uae-white: #FFFFFF;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* Password Protection Styles */
        #password-protection {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--uae-green) 0%, var(--uae-red) 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
        }
        
        .password-box {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            text-align: center;
            color: var(--dark-color);
            max-width: 450px;
            width: 90%;
        }
        
        .password-box h2 {
            margin-bottom: 15px;
            color: var(--uae-green);
            font-size: 28px;
        }
        
        .password-box p {
            margin-bottom: 25px;
            font-size: 16px;
            opacity: 0.8;
        }
        
        .password-input {
            width: 100%;
            padding: 15px;
            margin: 20px 0;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            transition: border-color 0.3s;
        }
        
        .password-input:focus {
            border-color: var(--uae-green);
            outline: none;
        }
        
        .password-btn {
            background: var(--uae-green);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            width: 100%;
            transition: background-color 0.3s;
        }
        
        .password-btn:hover {
            background: #006b41;
        }
        
        .error-message {
            color: var(--uae-red);
            margin-top: 15px;
            display: none;
            font-weight: 600;
        }
        
        /* Hide main content initially */
        .container {
            display: none;
        }
        
        /* Your existing styles */
        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--uae-green) 0%, var(--uae-red) 100%);
            color: white;
            padding: 20px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 20px;
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .currency-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .aed-currency {
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .app-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .app-container {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .results-section {
            background-color: white;
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--light-color);
            color: var(--primary-color);
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        input, select {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checkbox-group input {
            width: auto;
        }
        
        .btn {
            background-color: var(--uae-green);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background-color 0.3s;
            width: 100%;
        }
        
        .btn:hover {
            background-color: #006b41;
        }
        
        .btn-print {
            background-color: var(--secondary-color);
            margin-bottom: 15px;
        }
        
        .btn-print:hover {
            background-color: #2980b9;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        .result-card {
            background-color: var(--light-color);
            padding: 15px;
            border-radius: 6px;
            text-align: center;
            border-left: 4px solid var(--uae-green);
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            margin: 10px 0;
        }
        
        .result-label {
            font-size: 0.9rem;
            color: var(--dark-color);
        }
        
        .breakdown-section {
            margin-top: 25px;
        }
        
        .breakdown-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        .breakdown-table th, .breakdown-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        
        .breakdown-table th {
            background-color: var(--light-color);
            font-weight: 600;
        }
        
        .highlight {
            background-color: rgba(52, 152, 219, 0.1);
            font-weight: 600;
        }
        
        .total-row {
            font-weight: 700;
            font-size: 1.1rem;
            background-color: rgba(0, 135, 83, 0.1);
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: var(--dark-color);
            font-size: 0.9rem;
        }
        
        .cost-breakdown {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        
        .cost-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            padding-bottom: 8px;
            border-bottom: 1px dashed #ddd;
        }
        
        .cost-item:last-child {
            border-bottom: none;
        }
        
        .cost-label {
            font-weight: 600;
        }
        
        .cost-value {
            font-weight: 600;
            color: var(--uae-green);
        }
        
        .note {
            font-size: 0.8rem;
            color: #666;
            margin-top: 10px;
            font-style: italic;
        }
        
        .post-details {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 6px;
            margin-top: 15px;
        }
        
        .post-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .post-header {
            font-weight: bold;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ddd;
        }
        
        .post-input-group {
            display: flex;
            flex-direction: column;
        }
        
        .post-input-group label {
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .post-summary {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px solid #ddd;
        }
        
        .weight-toggle {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .toggle-option {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .toggle-option input {
            width: auto;
        }
        
        .no-print {
            display: block;
        }
        
        /* Collapsible sections */
        .collapsible {
            margin-top: 15px;
        }
        
        .collapsible-header {
            background-color: var(--light-color);
            padding: 12px 15px;
            border-radius: 6px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            transition: background-color 0.3s;
        }
        
        .collapsible-header:hover {
            background-color: #e0e6ea;
        }
        
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
            background-color: #f9f9f9;
            border-radius: 0 0 6px 6px;
        }
        
        .collapsible-content.expanded {
            max-height: 1000px;
            padding: 15px;
        }
        
        .collapsible-icon {
            transition: transform 0.3s;
        }
        
        .collapsible-icon.expanded {
            transform: rotate(180deg);
        }
        
        /* Print styles would go here */
    </style>
</head>
<body>
    <!-- Password Protection -->
    <div id="password-protection">
        <div class="password-box">
            <h2>ðŸ”’ Protected Calculator</h2>
            <p>This calculator is confidential. Please enter the password to continue.</p>
            <input type="password" id="password-input" class="password-input" placeholder="Enter password">
            <button onclick="checkPassword()" class="password-btn">Access Calculator</button>
            <div id="error-message" class="error-message">Incorrect password. Please try again.</div>
        </div>
    </div>

    <!-- Main Calculator Content -->
    <div class="container">
        <header>
            <div class="header-content">
                <h1>Cost Calculator</h1>
                <p class="subtitle">Calculate the total cost of fence installation including gates and materials</p>
                <div class="currency-selector">
                    <span class="aed-currency">Currency: AED </span>
                </div>
            </div>
        </header>
        
        <div class="app-container">
            <section class="input-section">
                <h2 class="section-title">Project Details</h2>
                
                <div class="form-group">
                    <label for="distance">Distance (KM):</label>
                    <input type="number" id="distance" value="0" step="0.1" min="0">
                </div>
                
                <div class="form-group">
                    <label for="rate">Rate per KM (AED):</label>
                    <input type="number" id="rate" value="0" step="0.01" min="0">
                </div>
                
                <div class="form-group">
                    <label for="serviceType">Service Type:</label>
                    <select id="serviceType">
                        <option value="standard">Standard Installation</option>
                        <option value="premium">Premium Installation</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="installation">
                        <label for="installation">Include Installation?</label>
                    </div>
                </div>
                
                <h2 class="section-title">Post Details</h2>
                
                <div class="post-details">
                    <div class="post-header">Post Specifications</div>
                    
                    <div class="post-row">
                        <div class="post-input-group">
                            <label for="postQty">Number of Posts:</label>
                            <input type="number" id="postQty" value="0" min="1">
                        </div>
                        
                        <div class="post-input-group">
                            <label for="totalPostWeightInput">Total Post Weight (kg):</label>
                            <input type="number" id="totalPostWeightInput" value="0" step="0.01" min="0">
                        </div>
                    </div>
                    
                    <div class="post-row">
                        <div class="post-input-group">
                            <label for="calculatedWeight">Calculated Weight per Post (kg):</label>
                            <input type="number" id="calculatedWeight" value="0" step="0.01" min="0" readonly>
                        </div>
                    </div>
                    
                    <div class="post-summary">
                        <div class="cost-item">
                            <span class="cost-label">Weight per Post:</span>
                            <span class="cost-value" id="displayWeightPerPost">0.00 kg</span>
                        </div>
                    </div>
                </div>
                
                <!-- Gate Details - Collapsible -->
                <div class="collapsible">
                    <div class="collapsible-header" id="gateDetailsHeader">
                        <span>Gate Details</span>
                        <span class="collapsible-icon">â–¼</span>
                    </div>
                    <div class="collapsible-content" id="gateDetailsContent">
                        <div class="form-group">
                            <label for="gateCost">Gate Cost (AED):</label>
                            <input type="number" id="gateCost" value="0" step="0.01" min="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="gateQty">Gate Quantity:</label>
                            <input type="number" id="gateQty" value="0" min="1">
                        </div>
                        
                        <div class="form-group">
                            <label for="gateWeight">Gate Weight (kg):</label>
                            <input type="number" id="gateWeight" value="0" step="0.01" min="0">
                        </div>
                    </div>
                </div>
                
                <button id="calculateBtn" class="btn">Calculate Total Cost</button>
                <button id="printBtn" class="btn btn-print no-print">Print Report</button>
            </section>
            
            <section class="results-section">
                <h2 class="section-title">Cost Breakdown</h2>
                
                <div class="results-grid">
                    <div class="result-card">
                        <div class="result-label">Total Distance Cost</div>
                        <div class="result-value" id="totalDistanceCost">AED 0.00</div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-label">Total Gates Value</div>
                        <div class="result-value" id="totalGatesValue">AED 0.00</div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-label">Material Cost</div>
                        <div class="result-value" id="materialCost">AED 0.00</div>
                    </div>
                    
                    <div class="result-card">
                        <div class="result-label">Installation Cost</div>
                        <div class="result-value" id="installationCost">AED 0.00</div>
                    </div>
                </div>
                
                <!-- Material Cost Breakdown - Collapsible -->
                <div class="collapsible">
                    <div class="collapsible-header" id="materialBreakdownHeader">
                        <span>Material Cost Breakdown</span>
                        <span class="collapsible-icon">â–¼</span>
                    </div>
                    <div class="collapsible-content" id="materialBreakdownContent">
                        <div class="cost-breakdown">
                            <div class="cost-item">
                                <span class="cost-label">Cost per KM (40%):</span>
                                <span class="cost-value" id="costPerKm">AED 0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Cost per Linear Meter:</span>
                                <span class="cost-value" id="costPerLM">AED 0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Cost per Post (60%):</span>
                                <span class="cost-value" id="costPerPost">AED 0.00</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Cost per Post (Individual):</span>
                                <span class="cost-value" id="individualPostCost">AED 0.00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Weight Summary - Collapsible -->
                <div class="collapsible">
                    <div class="collapsible-header" id="weightSummaryHeader">
                        <span>Weight Summary</span>
                        <span class="collapsible-icon">â–¼</span>
                    </div>
                    <div class="collapsible-content" id="weightSummaryContent">
                        <div class="post-details">
                            <div class="cost-item">
                                <span class="cost-label">Total Post Weight:</span>
                                <span class="cost-value" id="displayTotalPostWeight">0.00 kg</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Total Gate Weight:</span>
                                <span class="cost-value" id="displayTotalGateWeight">0.00 kg</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Total Weight (Posts + Gates):</span>
                                <span class="cost-value" id="displayTotalWeight">0.00 kg</span>
                            </div>
                            <div class="cost-item">
                                <span class="cost-label">Weight per Linear Meter:</span>
                                <span class="cost-value" id="displayWeightPerLM">0.00 kg</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="breakdown-section">
                    <h3 class="section-title">Detailed Breakdown</h3>
                    
                    <table class="breakdown-table">
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Amount (AED)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Distance Cost (KM Ã— Rate)</td>
                                <td id="distanceCostDetail">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>Total Gates Value</td>
                                <td id="gatesValueDetail">AED 0.00</td>
                            </tr>
                            <tr class="highlight">
                                <td>Material Allocation (<span id="materialPercentage">70%</span>)</td>
                                <td id="materialAllocation">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;â€¢ For Fence (40%)</td>
                                <td id="fenceCost">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;&nbsp;&nbsp;Cost per Linear Meter</td>
                                <td id="costPerLMDetail">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;â€¢ For Posts (60%)</td>
                                <td id="postCost">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;&nbsp;&nbsp;Individual Post Cost</td>
                                <td id="individualPostCostDetail">AED 0.00</td>
                            </tr>
                            <tr class="highlight">
                                <td>Installation Cost (<span id="installationPercentage">30%</span>)</td>
                                <td id="installationCostDetail">AED 0.00</td>
                            </tr>
                            <tr>
                                <td>&nbsp;&nbsp;â€¢ Gate Installation (30%)</td>
                                <td id="gateInstallationCost">AED 0.00</td>
                            </tr>
                            <tr class="total-row">
                                <td>GRAND TOTAL</td>
                                <td id="grandTotal">AED 0.00</td>
                            </tr>
                        </tbody>
                    </table>
                    <p class="note">Note: Installation costs are only applied when "Include Installation" is selected.</p>
                </div>
            </section>
        </div>
        
        <div class="footer no-print">
            <p>Cost Calculator 2025 | Currency: AED</p>
            <p>Made by Vijay Goral</p>
        </div>
    </div>

    <script>
        // PASSWORD CONFIGURATION - CHANGE THIS!
        const CORRECT_PASSWORD = "fence2025"; // âš ï¸ CHANGE THIS PASSWORD!
        
        function checkPassword() {
            const input = document.getElementById('password-input').value;
            const error = document.getElementById('error-message');
            
            if (input === CORRECT_PASSWORD) {
                // Correct password - show calculator
                document.getElementById('password-protection').style.display = 'none';
                document.querySelector('.container').style.display = 'block';
                
                // Store in session so password isn't needed again
                sessionStorage.setItem('authenticated', 'true');
            } else {
                // Wrong password - show error
                error.style.display = 'block';
                document.getElementById('password-input').value = '';
                document.getElementById('password-input').focus();
            }
        }
        
        // Check if already authenticated
        if (sessionStorage.getItem('authenticated') === 'true') {
            document.getElementById('password-protection').style.display = 'none';
            document.querySelector('.container').style.display = 'block';
        }
        
        // Allow pressing Enter to submit password
        document.getElementById('password-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkPassword();
            }
        });

        // Your existing calculator JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            const calculateBtn = document.getElementById('calculateBtn');
            const printBtn = document.getElementById('printBtn');
            
            // Initial calculation
            calculateCosts();
            
            // Add event listener to calculate button
            calculateBtn.addEventListener('click', calculateCosts);
            
            // Add event listener to print button
            printBtn.addEventListener('click', printReport);
            
            // Add event listeners to input fields for real-time calculation
            const inputFields = [
                'distance', 'rate', 'postQty', 
                'gateCost', 'gateQty', 'gateWeight', 'totalPostWeightInput'
            ];
            inputFields.forEach(field => {
                document.getElementById(field).addEventListener('input', calculateCosts);
            });
            
            // Add event listener to installation checkbox
            document.getElementById('installation').addEventListener('change', calculateCosts);
            
            // Add event listeners for collapsible sections
            document.getElementById('materialBreakdownHeader').addEventListener('click', function() {
                toggleCollapsible('materialBreakdownContent', 'materialBreakdownHeader');
            });
            
            document.getElementById('weightSummaryHeader').addEventListener('click', function() {
                toggleCollapsible('weightSummaryContent', 'weightSummaryHeader');
            });
            
            document.getElementById('gateDetailsHeader').addEventListener('click', function() {
                toggleCollapsible('gateDetailsContent', 'gateDetailsHeader');
            });
            
            function toggleCollapsible(contentId, headerId) {
                const content = document.getElementById(contentId);
                const header = document.getElementById(headerId);
                const icon = header.querySelector('.collapsible-icon');
                
                if (content.classList.contains('expanded')) {
                    content.classList.remove('expanded');
                    icon.classList.remove('expanded');
                } else {
                    content.classList.add('expanded');
                    icon.classList.add('expanded');
                }
            }
            
            function calculateCosts() {
                // Get input values
                const distance = parseFloat(document.getElementById('distance').value) || 0;
                const rate = parseFloat(document.getElementById('rate').value) || 0;
                const postQty = parseInt(document.getElementById('postQty').value) || 0;
                const totalPostWeightInput = parseFloat(document.getElementById('totalPostWeightInput').value) || 0;
                const gateCost = parseFloat(document.getElementById('gateCost').value) || 0;
                const gateQty = parseInt(document.getElementById('gateQty').value) || 0;
                const gateWeight = parseFloat(document.getElementById('gateWeight').value) || 0;
                const includeInstallation = document.getElementById('installation').checked;
                
                // Calculate post values
                const totalPostWeight = totalPostWeightInput;
                const weightPerPost = postQty > 0 ? totalPostWeight / postQty : 0;
                
                // Update calculated values in UI
                document.getElementById('calculatedWeight').value = weightPerPost.toFixed(2);
                document.getElementById('displayWeightPerPost').textContent = formatWeight(weightPerPost);
                
                // Calculate gate values
                const totalGatesValue = gateCost * gateQty;
                const totalGateWeight = gateWeight * gateQty;
                
                // Calculate costs
                const totalDistanceCost = distance * rate;
                
                // Material and installation allocation
                const materialPercentage = includeInstallation ? 0.7 : 1.0;
                const installationPercentage = includeInstallation ? 0.3 : 0.0;
                
                const materialAllocation = totalDistanceCost * materialPercentage;
                const installationAllocation = totalDistanceCost * installationPercentage;
                
                // Material breakdown
                const fenceCost = materialAllocation * 0.4; // 40% for fence (cost per KM)
                const postCost = materialAllocation * 0.6; // 60% for posts
                const individualPostCost = postQty > 0 ? postCost / postQty : 0;
                
                // Calculate cost per linear meter
                const costPerLM = distance > 0 ? fenceCost / distance : 0;
                
                // Gate installation cost
                const gateInstallationCost = includeInstallation ? totalGatesValue * 0.3 : 0;
                
                // Grand total
                const grandTotal = totalDistanceCost + totalGatesValue + gateInstallationCost;
                
                // Weight calculations
                const distanceInMeters = distance * 1000;
                const totalWeight = totalPostWeight + totalGateWeight;
                const weightPerLM = distanceInMeters > 0 ? totalWeight / distanceInMeters : 0;
                
                // Update UI with calculated values
                document.getElementById('totalDistanceCost').textContent = formatCurrency(totalDistanceCost);
                document.getElementById('totalGatesValue').textContent = formatCurrency(totalGatesValue);
                document.getElementById('materialCost').textContent = formatCurrency(materialAllocation);
                document.getElementById('installationCost').textContent = formatCurrency(installationAllocation + gateInstallationCost);
                
                // Update detailed breakdown
                document.getElementById('distanceCostDetail').textContent = formatCurrency(totalDistanceCost);
                document.getElementById('gatesValueDetail').textContent = formatCurrency(totalGatesValue);
                document.getElementById('materialAllocation').textContent = formatCurrency(materialAllocation);
                document.getElementById('fenceCost').textContent = formatCurrency(fenceCost);
                document.getElementById('postCost').textContent = formatCurrency(postCost);
                document.getElementById('individualPostCostDetail').textContent = formatCurrency(individualPostCost);
                document.getElementById('installationCostDetail').textContent = formatCurrency(installationAllocation);
                document.getElementById('gateInstallationCost').textContent = formatCurrency(gateInstallationCost);
                document.getElementById('grandTotal').textContent = formatCurrency(grandTotal);
                
                // Update percentages in the breakdown table
                document.getElementById('materialPercentage').textContent = (materialPercentage * 100) + '%';
                document.getElementById('installationPercentage').textContent = (installationPercentage * 100) + '%';
                
                // Update cost breakdown section
                document.getElementById('costPerKm').textContent = formatCurrency(fenceCost);
                document.getElementById('costPerPost').textContent = formatCurrency(postCost);
                document.getElementById('individualPostCost').textContent = formatCurrency(individualPostCost);
                
                // Update cost per linear meter
                document.getElementById('costPerLM').textContent = formatCurrency(costPerLM);
                document.getElementById('costPerLMDetail').textContent = formatCurrency(costPerLM);
                
                // Update weight summary
                document.getElementById('displayTotalPostWeight').textContent = formatWeight(totalPostWeight);
                document.getElementById('displayTotalGateWeight').textContent = formatWeight(totalGateWeight);
                document.getElementById('displayTotalWeight').textContent = formatWeight(totalWeight);
                document.getElementById('displayWeightPerLM').textContent = formatWeight(weightPerLM);
            }
            
            function printReport() {
                window.print();
            }
            
            function formatCurrency(amount) {
                return 'AED ' + amount.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
            }
            
            function formatWeight(weight) {
                return weight.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,') + ' kg';
            }
        });
    </script>
</body>
</html>
